
= jwt (JSON Web Token)

跨域认证解决方案

== 跨域认证

. 去中心化

    服务器不保存 session 数据了，所有数据都保存在客户端，每次请求都发回服务器。JWT 就是这种方案的一个代表。

    优点
        去中心化，便于分布式系统使用
        基本信息可以直接放在token中。 username，nickname，role
        功能权限较少的话，可以直接放在token中。用bit位表示用户所具有的功能权限
    缺点
        服务端不能主动让token失效

. 中心化

    服务器保存会话信息，客户端发送 session_id 确认身份

    这种模式的问题在于，扩展性（scaling）不好。单机当然没有问题，如果是服务器集群，或者是跨域的服务导向架构，就要求 session 数据共享，每台服务器都能够读取 session。

    优点
        服务端可以主动让 token 失效
    缺点
       依赖内存或redis存储。
       分布式系统的话，需要redis查询/接口调用增加系统复杂性。
